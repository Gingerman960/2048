webpackJsonp([0],{"nS+4":function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=e("LMZF"),o=function(){},l=e("UHIZ"),i=function(){function n(){}return n.prototype.ngOnInit=function(){},n}(),a=r._0({encapsulation:0,styles:[[".welcome[_ngcontent-%COMP%]{height:100vh;font-family:Oswald,sans-serif;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.welcome[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-bottom:50px;font-size:56px;color:#776e65}.welcome[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{-webkit-transition:all .1s;transition:all .1s;border:none;background:#776e65;color:#fff;width:120px;height:60px;font-size:25px;border-radius:5px;text-transform:uppercase}.welcome[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{cursor:pointer;background:#edcf72;color:#776e65;-webkit-box-shadow:0 0 30px 10px hsla(47,84%,70%,.2381),inset 0 0 0 1px hsla(0,0%,100%,.14286);box-shadow:0 0 30px 10px hsla(47,84%,70%,.2381),inset 0 0 0 1px hsla(0,0%,100%,.14286)}"]],data:{}});function c(n){return r._17(0,[(n()(),r._2(0,0,null,null,8,"div",[["class","welcome"]],null,null,null,null,null)),(n()(),r._16(-1,null,["\n    "])),(n()(),r._2(2,0,null,null,1,"div",[],null,null,null,null,null)),(n()(),r._16(-1,null,["Welcome to 2048"])),(n()(),r._16(-1,null,["\n    "])),(n()(),r._2(5,0,null,null,2,"button",[["routerLink","game"]],null,[[null,"click"]],function(n,t,e){var o=!0;return"click"===t&&(o=!1!==r._11(n,6).onClick()&&o),o},null,null)),r._1(6,16384,null,0,l.l,[l.k,l.a,[8,null],r.B,r.k],{routerLink:[0,"routerLink"]},null),(n()(),r._16(-1,null,["Start!"])),(n()(),r._16(-1,null,["\n"]))],function(n,t){n(t,6,0,"game")},null)}var u=r.Y("app-main",i,function(n){return r._17(0,[(n()(),r._2(0,0,null,null,1,"app-main",[],null,null,null,c,a)),r._1(1,114688,null,0,i,[],null,null)],function(n,t){n(t,1,0)},null)},{},{},[]),s=e("Un6q"),g=function(){function n(){this.numberClass={2:"title-2",4:"title-4",8:"title-8",16:"title-16",32:"title-32",64:"title-64",128:"title-128",256:"title-256",512:"title-512",1024:"title-1024",2048:"title-2048"},this.direction="",this.array=Array(16).fill(null),this.classArray=Array(16).fill(""),this.score=0,this.xDown=null,this.yDown=null}return n.prototype.ngAfterViewInit=function(){this.gameField.nativeElement.focus()},n.prototype.ngOnInit=function(){this.appearRandomNumber(),this.appearRandomNumber()},n.prototype.appearRandomNumber=function(){var n=this,t=this.array.map(function(n,t){if(null==n)return t}).filter(function(n){if(void 0!=n)return!0});if(t.length>=1){var e=t[this.randomGen(t.length-1)];setTimeout(function(){n.array[e]=0==n.randomGen(1)?2:4,n.animate(e,"appear")},100)}},n.prototype.randomGen=function(n){return Math.floor(Math.random()*Math.floor(n+1))},n.prototype.getColour=function(n){return this.numberClass[n]?this.numberClass[n]:""},n.prototype.animate=function(n,t){var e=this;this.classArray[n]=t,setTimeout(function(){e.classArray[n]=""},30)},n.prototype.gameControl=function(n){"ArrowRight"==n.key?this.controlRight():"ArrowDown"==n.key?this.controlDown():"ArrowLeft"==n.key?this.controlLeft():"ArrowUp"==n.key&&this.controlUp()},n.prototype.controlRight=function(){this.direction="right",this.array=this.getArrFromChunks(this.move(this.getChunks())),this.appearRandomNumber()},n.prototype.controlLeft=function(){this.direction="left",this.array=this.getArrFromChunks(this.turn(this.move(this.turn(this.getChunks(),180)),180)),this.appearRandomNumber()},n.prototype.controlDown=function(){this.direction="down",this.array=this.getArrFromChunks(this.turn(this.move(this.turn(this.getChunks(),90)),-90)),this.appearRandomNumber()},n.prototype.controlUp=function(){this.direction="up",this.array=this.getArrFromChunks(this.turn(this.move(this.turn(this.getChunks(),-90)),90)),this.appearRandomNumber()},n.prototype.move=function(n){for(var t=0;t<n.length;t++)for(var e=null,r=n[t].length-1;r>=0;r--)e=3!=r?o(this,t,r,e):3;return n;function o(t,e,r,o){return null==n[e][o]?(n[e][o]=n[e][r],n[e][r]=null,o):null==n[e][r]?o:n[e][o]==n[e][r]?(t.score+=n[e][o],n[e][o]=2*n[e][o],n[e][r]=null,r):o-r==1?r:(n[e][o-1]=n[e][r],n[e][r]=null,o-1)}},n.prototype.getChunks=function(){var n=[[],[],[],[]];return n[0]=this.array.slice(0,4),n[1]=this.array.slice(4,8),n[2]=this.array.slice(8,12),n[3]=this.array.slice(12,16),n},n.prototype.getArrFromChunks=function(n){return n[0].concat(n[1],n[2],n[3])},n.prototype.turn=function(n,t){var e=n.slice();return console.log("matrix",e),90==t?e[0].map(function(n,t){return e.map(function(n){return n[t]})}).reverse():-90==t?(e=e.reverse())[0].map(function(n,t){return e.map(function(n){return n[t]})}):180==t?(e.reverse(),e.forEach(function(n){n.reverse()}),e):void 0},n.prototype.moveAnimation=function(n,t,e){var r=this;return new Promise(function(o,l){r.classArray[4*n+t]="move-"+r.direction+"-"+(e-t),setTimeout(function(){r.classArray[4*n+t]="displayNone",setTimeout(function(){r.classArray[4*n+t]=""},300)},300)})},n.prototype.appearAnimation=function(n,t){var e=this;return new Promise(function(r,o){e.classArray[4*n+t]="appear",setTimeout(function(){e.classArray[4*n+t]="displayNone",setTimeout(function(){e.classArray[4*n+t]=""})},300)})},n.prototype.getScore=function(){return this.score},n.prototype.handleTouchStart=function(n){this.xDown=n.touches[0].clientX,this.yDown=n.touches[0].clientY},n.prototype.handleTouchMove=function(n){if(this.xDown&&this.yDown){var t=this.xDown-n.touches[0].clientX,e=this.yDown-n.touches[0].clientY;Math.abs(t)>Math.abs(e)?t>0?(console.log("left swipe"),this.controlLeft()):(console.log("right swipe"),this.controlRight()):e>0?(console.log("up swipe"),this.controlUp()):(console.log("down swipe"),this.controlDown()),this.xDown=null,this.yDown=null}},n}(),p=r._0({encapsulation:0,styles:[[".wrapper[_ngcontent-%COMP%]{margin:0 auto;font-family:Oswald,sans-serif;display:-ms-grid;display:grid}.wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{text-transform:uppercase;width:450px;margin:20px 0;color:#faf8ef;display:-webkit-box;display:-ms-flexbox;display:flex;justify-self:center;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}@media screen and (max-width:500px){.wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{width:350px}}.wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;height:60px;width:100px;background:#776e65;border-radius:5px;margin:0 10px}.wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .container.head[_ngcontent-%COMP%]{font-size:30px}.wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .container.score[_ngcontent-%COMP%]{font-size:18px}.wrapper[_ngcontent-%COMP%]   .content.text[_ngcontent-%COMP%]{color:#776e65;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.wrapper[_ngcontent-%COMP%]   .grid-container[_ngcontent-%COMP%]{padding:10px;border-radius:5px;-ms-grid-row-align:center;align-self:center;-ms-grid-column-align:center;justify-self:center;display:-ms-grid;display:grid;grid-gap:10px;-ms-grid-columns:(100px)[4];grid-template-columns:repeat(4,100px);-ms-grid-rows:(100px)[4];grid-template-rows:repeat(4,100px);background:#bbada0}@media screen and (max-width:500px){.wrapper[_ngcontent-%COMP%]   .grid-container[_ngcontent-%COMP%]{-ms-grid-columns:(70px)[4];grid-template-columns:repeat(4,70px);-ms-grid-rows:(70px)[4];grid-template-rows:repeat(4,70px)}.wrapper[_ngcontent-%COMP%]   .grid-container[_ngcontent-%COMP%]   .grid-item[_ngcontent-%COMP%]   .number-container[_ngcontent-%COMP%]{font-size:35px}}.wrapper[_ngcontent-%COMP%]   .grid-container[_ngcontent-%COMP%]   .grid-item[_ngcontent-%COMP%]{display:block;background:#cdc1b4;border-radius:5px}.wrapper[_ngcontent-%COMP%]   .grid-container[_ngcontent-%COMP%]   .grid-item[_ngcontent-%COMP%]   .number-container[_ngcontent-%COMP%]{-webkit-transition:-webkit-transform .3s;transition:-webkit-transform .3s;transition:transform .3s;transition:transform .3s,-webkit-transform .3s;-webkit-transition-timing-function:cubic-bezier(.075,.82,.165,1);transition-timing-function:cubic-bezier(.075,.82,.165,1);display:-ms-grid;display:grid;-ms-flex-line-pack:center;align-content:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;border-radius:5px;font-size:40px;font-weight:700}.wrapper[_ngcontent-%COMP%]   .grid-container[_ngcontent-%COMP%]   .grid-item[_ngcontent-%COMP%]   .number-container.displayNone[_ngcontent-%COMP%]{display:none}.wrapper[_ngcontent-%COMP%]   .grid-container[_ngcontent-%COMP%]   .grid-item[_ngcontent-%COMP%]   .number-container.move-right-1[_ngcontent-%COMP%]{-webkit-transform:translateX(110%);transform:translateX(110%)}.wrapper[_ngcontent-%COMP%]   .grid-container[_ngcontent-%COMP%]   .grid-item[_ngcontent-%COMP%]   .number-container.move-right-2[_ngcontent-%COMP%]{-webkit-transform:translateX(220%);transform:translateX(220%)}.wrapper[_ngcontent-%COMP%]   .grid-container[_ngcontent-%COMP%]   .grid-item[_ngcontent-%COMP%]   .number-container.move-right-3[_ngcontent-%COMP%]{-webkit-transform:translateX(330%);transform:translateX(330%)}.wrapper[_ngcontent-%COMP%]   .grid-container[_ngcontent-%COMP%]   .grid-item[_ngcontent-%COMP%]   .number-container.move-left[_ngcontent-%COMP%]{-webkit-transform:translateX(-110%);transform:translateX(-110%)}.wrapper[_ngcontent-%COMP%]   .grid-container[_ngcontent-%COMP%]   .grid-item[_ngcontent-%COMP%]   .number-container.move-left-2[_ngcontent-%COMP%]{-webkit-transform:translateX(-220%);transform:translateX(-220%)}.wrapper[_ngcontent-%COMP%]   .grid-container[_ngcontent-%COMP%]   .grid-item[_ngcontent-%COMP%]   .number-container.move-left-3[_ngcontent-%COMP%]{-webkit-transform:translateX(-330%);transform:translateX(-330%)}.wrapper[_ngcontent-%COMP%]   .grid-container[_ngcontent-%COMP%]   .grid-item[_ngcontent-%COMP%]   .number-container.move-down[_ngcontent-%COMP%]{-webkit-transform:translateY(110%);transform:translateY(110%)}.wrapper[_ngcontent-%COMP%]   .grid-container[_ngcontent-%COMP%]   .grid-item[_ngcontent-%COMP%]   .number-container.move-down-2[_ngcontent-%COMP%]{-webkit-transform:translateY(220%);transform:translateY(220%)}.wrapper[_ngcontent-%COMP%]   .grid-container[_ngcontent-%COMP%]   .grid-item[_ngcontent-%COMP%]   .number-container.move-down-3[_ngcontent-%COMP%]{-webkit-transform:translateY(330%);transform:translateY(330%)}.wrapper[_ngcontent-%COMP%]   .grid-container[_ngcontent-%COMP%]   .grid-item[_ngcontent-%COMP%]   .number-container.move-up[_ngcontent-%COMP%]{-webkit-transform:translateY(-110%);transform:translateY(-110%)}.wrapper[_ngcontent-%COMP%]   .grid-container[_ngcontent-%COMP%]   .grid-item[_ngcontent-%COMP%]   .number-container.move-up-2[_ngcontent-%COMP%]{-webkit-transform:translateY(-220%);transform:translateY(-220%)}.wrapper[_ngcontent-%COMP%]   .grid-container[_ngcontent-%COMP%]   .grid-item[_ngcontent-%COMP%]   .number-container.move-up-3[_ngcontent-%COMP%]{-webkit-transform:translateY(-330%);transform:translateY(-330%)}.wrapper[_ngcontent-%COMP%]   .grid-container[_ngcontent-%COMP%]   .grid-item[_ngcontent-%COMP%]   .number-container.appear[_ngcontent-%COMP%]{-webkit-transform:scale(1.1);transform:scale(1.1)}.wrapper[_ngcontent-%COMP%]   .grid-container[_ngcontent-%COMP%]   .grid-item[_ngcontent-%COMP%]   .number-container.title-2[_ngcontent-%COMP%]{background:#eee4da;color:#776e65}.wrapper[_ngcontent-%COMP%]   .grid-container[_ngcontent-%COMP%]   .grid-item[_ngcontent-%COMP%]   .number-container.title-4[_ngcontent-%COMP%]{background:#ede0c8;color:#776e65}.wrapper[_ngcontent-%COMP%]   .grid-container[_ngcontent-%COMP%]   .grid-item[_ngcontent-%COMP%]   .number-container.title-8[_ngcontent-%COMP%]{background:#f2b179;color:#f9f6f2}.wrapper[_ngcontent-%COMP%]   .grid-container[_ngcontent-%COMP%]   .grid-item[_ngcontent-%COMP%]   .number-container.title-16[_ngcontent-%COMP%]{background:#f59563;color:#f9f6f2}.wrapper[_ngcontent-%COMP%]   .grid-container[_ngcontent-%COMP%]   .grid-item[_ngcontent-%COMP%]   .number-container.title-32[_ngcontent-%COMP%]{background:#f67c5f;color:#f9f6f2}.wrapper[_ngcontent-%COMP%]   .grid-container[_ngcontent-%COMP%]   .grid-item[_ngcontent-%COMP%]   .number-container.title-64[_ngcontent-%COMP%]{background:#f65e3b;color:#f9f6f2}.wrapper[_ngcontent-%COMP%]   .grid-container[_ngcontent-%COMP%]   .grid-item[_ngcontent-%COMP%]   .number-container.title-128[_ngcontent-%COMP%]{color:#f9f6f2;background:#edcf72;-webkit-box-shadow:0 0 30px 10px hsla(47,84%,70%,.2381),inset 0 0 0 1px hsla(0,0%,100%,.14286);box-shadow:0 0 30px 10px hsla(47,84%,70%,.2381),inset 0 0 0 1px hsla(0,0%,100%,.14286)}.wrapper[_ngcontent-%COMP%]   .grid-container[_ngcontent-%COMP%]   .grid-item[_ngcontent-%COMP%]   .number-container.title-256[_ngcontent-%COMP%]{color:#f9f6f2;background:#edcc61;-webkit-box-shadow:0 0 30px 10px hsla(47,84%,70%,.31746),inset 0 0 0 1px hsla(0,0%,100%,.19048);box-shadow:0 0 30px 10px hsla(47,84%,70%,.31746),inset 0 0 0 1px hsla(0,0%,100%,.19048)}.wrapper[_ngcontent-%COMP%]   .grid-container[_ngcontent-%COMP%]   .grid-item[_ngcontent-%COMP%]   .number-container.title-512[_ngcontent-%COMP%]{background:#edc850;color:#f9f6f2;-webkit-box-shadow:0 0 30px 10px hsla(47,84%,70%,.39683),inset 0 0 0 1px hsla(0,0%,100%,.2381);box-shadow:0 0 30px 10px hsla(47,84%,70%,.39683),inset 0 0 0 1px hsla(0,0%,100%,.2381)}.wrapper[_ngcontent-%COMP%]   .grid-container[_ngcontent-%COMP%]   .grid-item[_ngcontent-%COMP%]   .number-container.title-1024[_ngcontent-%COMP%]{color:#f9f6f2;background:#edc53f;-webkit-box-shadow:0 0 30px 10px hsla(47,84%,70%,.47619),inset 0 0 0 1px hsla(0,0%,100%,.28571);box-shadow:0 0 30px 10px hsla(47,84%,70%,.47619),inset 0 0 0 1px hsla(0,0%,100%,.28571)}.wrapper[_ngcontent-%COMP%]   .grid-container[_ngcontent-%COMP%]   .grid-item[_ngcontent-%COMP%]   .number-container.title-2048[_ngcontent-%COMP%]{color:#f9f6f2;background:#edc22e;-webkit-box-shadow:0 0 30px 10px hsla(47,84%,70%,.55556),inset 0 0 0 1px hsla(0,0%,100%,.33333);box-shadow:0 0 30px 10px hsla(47,84%,70%,.55556),inset 0 0 0 1px hsla(0,0%,100%,.33333)}"]],data:{}});function m(n){return r._17(0,[(n()(),r._2(0,0,null,null,5,"div",[["class","grid-item "]],null,null,null,null,null)),(n()(),r._16(-1,null,["\n            "])),(n()(),r._2(2,0,null,null,2,"div",[["class","number-container "]],null,null,null,null,null)),r._1(3,278528,null,0,s.h,[r.q,r.r,r.k,r.B],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(n()(),r._16(4,null,["",""])),(n()(),r._16(-1,null,["\n        "]))],function(n,t){var e=t.component;n(t,3,0,"number-container ",e.getColour(t.context.$implicit)+" "+e.classArray[t.context.i])},function(n,t){n(t,4,0,t.context.$implicit)})}function d(n){return r._17(0,[r._14(402653184,1,{gameField:0}),(n()(),r._2(1,0,[[1,0],["gameField",1]],null,31,"div",[["class","wrapper"],["tabindex","1"]],null,[[null,"keydown"]],function(n,t,e){var r=!0;return"keydown"===t&&(r=!1!==n.component.gameControl(e)&&r),r},null,null)),(n()(),r._16(-1,null,["\n    "])),(n()(),r._2(3,0,null,null,16,"div",[["class","content header"]],null,null,null,null,null)),(n()(),r._16(-1,null,["\n        "])),(n()(),r._2(5,0,null,null,4,"div",[["class","container head"]],null,null,null,null,null)),(n()(),r._16(-1,null,["\n            "])),(n()(),r._2(7,0,null,null,1,"div",[],null,null,null,null,null)),(n()(),r._16(-1,null,["2048"])),(n()(),r._16(-1,null,["\n        "])),(n()(),r._16(-1,null,["\n        "])),(n()(),r._2(11,0,null,null,7,"div",[["class","container score"]],null,null,null,null,null)),(n()(),r._16(-1,null,["\n            "])),(n()(),r._2(13,0,null,null,1,"div",[],null,null,null,null,null)),(n()(),r._16(-1,null,["score"])),(n()(),r._16(-1,null,["\n            "])),(n()(),r._2(16,0,null,null,1,"div",[],null,null,null,null,null)),(n()(),r._16(17,null,["",""])),(n()(),r._16(-1,null,["\n        "])),(n()(),r._16(-1,null,["\n    "])),(n()(),r._16(-1,null,["\n    "])),(n()(),r._2(21,0,null,null,4,"div",[["class","grid-container"]],null,[[null,"touchstart"],[null,"touchmove"]],function(n,t,e){var r=!0,o=n.component;return"touchstart"===t&&(r=!1!==o.handleTouchStart(e)&&r),"touchmove"===t&&(r=!1!==o.handleTouchMove(e)&&r),r},null,null)),(n()(),r._16(-1,null,["\n        "])),(n()(),r.X(16777216,null,null,1,null,m)),r._1(24,802816,null,0,s.i,[r.M,r.J,r.q],{ngForOf:[0,"ngForOf"]},null),(n()(),r._16(-1,null,["\n    "])),(n()(),r._16(-1,null,["\n    "])),(n()(),r._2(27,0,null,null,4,"div",[["class","content text "]],null,null,null,null,null)),(n()(),r._16(-1,null,["\n        "])),(n()(),r._2(29,0,null,null,1,"div",[],null,null,null,null,null)),(n()(),r._16(-1,null,["Use arrow keys or swipe to play"])),(n()(),r._16(-1,null,["\n    "])),(n()(),r._16(-1,null,["\n"]))],function(n,t){n(t,24,0,t.component.array)},function(n,t){n(t,17,0,t.component.getScore())})}var f=r.Y("app-game-field",g,function(n){return r._17(0,[(n()(),r._2(0,0,null,null,1,"app-game-field",[],null,null,null,d,p)),r._1(1,4308992,null,0,g,[],null,null)],function(n,t){n(t,1,0)},null)},{},{},[]),_=function(){};e.d(t,"GameModuleNgFactory",function(){return h});var h=r.Z(o,[],function(n){return r._8([r._9(512,r.j,r.V,[[8,[u,f]],[3,r.j],r.v]),r._9(4608,s.k,s.j,[r.s,[2,s.o]]),r._9(512,s.b,s.b,[]),r._9(512,l.m,l.m,[[2,l.r],[2,l.k]]),r._9(512,_,_,[]),r._9(512,o,o,[]),r._9(1024,l.i,function(){return[[{path:"",component:i},{path:"game",component:g}]]},[])])})}});